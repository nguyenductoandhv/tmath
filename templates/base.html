<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}">
<head>
    <link rel="preload" href="{{ static('full_style.css') }}?v={{ version }}" as="style">
    <link rel="preload" href="{{ static('libs/jquery-3.6.0.min.js') }}" as="script">
    <title>{% block title %}{{ title }} - {{ SITE_LONG_NAME }}{% endblock %}</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    {% if misc_config.meta_keywords %}
        <meta name="keywords" content="{{ misc_config.meta_keywords }}">
    {% endif %}
    <meta name="description" content="{{ meta_description|default('Khám phá và nâng cao kỹ năng lập trình thi đấu tại trang web của chúng tôi. Cung cấp khóa học chất lượng, thách thức lập trình đa dạng và cơ hội tham gia cộng đồng đầy năng lượng. Đặt mình vào những cuộc thi lập trình sôi động, chia sẻ kiến thức và kết nối với mentor có kinh nghiệm. Hãy bắt đầu hành trình lập trình của bạn với chúng tôi ngay hôm nay!') }}">
    <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1">
    <!-- Favicons-->
    <link rel="apple-touch-icon" sizes="57x57" href="{{ static('icons/apple-touch-icon-57x57.png') }}">
    <link rel="apple-touch-icon" sizes="60x60" href="{{ static('icons/apple-touch-icon-60x60.png') }}">
    <link rel="apple-touch-icon" sizes="72x72" href="{{ static('icons/apple-touch-icon-72x72.png') }}">
    <link rel="apple-touch-icon" sizes="76x76" href="{{ static('icons/apple-touch-icon-76x76.png') }}">
    <link rel="apple-touch-icon" sizes="114x114" href="{{ static('icons/apple-touch-icon-114x114.png') }}">
    <link rel="apple-touch-icon" sizes="120x120" href="{{ static('icons/apple-touch-icon-120x120.png') }}">
    <link rel="apple-touch-icon" sizes="144x144" href="{{ static('icons/apple-touch-icon-144x144.png') }}">
    <link rel="apple-touch-icon" sizes="152x152" href="{{ static('icons/apple-touch-icon-152x152.png') }}">
    <link rel="apple-touch-icon" sizes="180x180" href="{{ static('icons/apple-touch-icon-180x180.png') }}">
    <link rel="icon" type="image/png" href="{{ static('icons/favicon-32x32.png') }}" sizes="32x32">
    <link rel="icon" type="image/png" href="{{ static('icons/android-chrome-192x192.png') }}" sizes="192x192">
    <link rel="icon" type="image/png" href="{{ static('icons/favicon-96x96.png') }}" sizes="96x96">
    <link rel="icon" type="image/png" href="{{ static('icons/favicon-16x16.png') }}" sizes="16x16">
    <link rel="manifest" href="{{ static('icons/manifest.json') }}?v=2">
    <meta name="msapplication-TileColor" content="#FFBB33">
    <meta name="msapplication-TileImage" content="{{ static('icons/mstile-144x144.png') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@500&family=Inter:wght@400;600;700&family=Roboto+Mono&display=swap" rel="stylesheet">
    {# Chrome 39 for Android colour #}
    <meta name="theme-color" content="#FFBB33">
    {% if og_image %}
        <meta property="og:image" content="{{ request.build_absolute_uri(og_image) }}">
    {% endif %}
    {% block og_title %}{% endblock %}
    <meta property="og:site_name" content="{{ SITE_LONG_NAME }}">
    <meta property="og:url"
          content="{{ DMOJ_SCHEME }}://{{ DMOJ_CANONICAL|default(site.domain) }}{{ request.get_full_path() }}">
    {% if meta_description %}
        <meta property="og:description" content="{{ meta_description }}">
    {% endif %}
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script>window.bad_browser = true</script>
    <![endif]-->
    {% block meta %}{% endblock %}
    {% if not INLINE_FONTAWESOME %}
        <link rel="stylesheet" href="{{ FONTAWESOME_CSS }}">
    {% endif %}
    {% if INLINE_FONTAWESOME %}
    <link rel="stylesheet" href="{{ static('fontawesome/css/all.css') }}">
    {% endif %}
    {% if PYGMENT_THEME %}
        <link rel="stylesheet" href="{{ static(PYGMENT_THEME) }}">
    {% endif %}
    <link rel="stylesheet" type="text/css" href="{{ static('libs/featherlight/featherlight.min.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ static('libs/clipboard/tooltip.css') }}">
    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css">
    <link rel="stylesheet" href="{{ static('navbar.css') }}">
    <link rel="canonical"
          href="{{ DMOJ_SCHEME }}://{{ DMOJ_CANONICAL|default(site.domain) }}{{ request.get_full_path() }}">
    <style>
        html {
            font-size: 14px;
        }
        table *, table :after, table :before, nav *, nav :after, nav :before {
            -webkit-box-sizing: unset !important;
            box-sizing: unset !important;
        }
        body ::-webkit-scrollbar-thumb {
            cursor: unset !important;
        }
        .comment pre {
            white-space: pre-wrap;
            word-wrap: break-word;
            margin: 1.5em 0 1.5em 0;
            padding: 1em;
            border: 1px solid #ccc;
            background-color: #f8f8f8;
            color: black;
            border-radius: 4px;
        }
        svg.ip {
            overflow: visible;
            width: 100px;
            height: 150px;
          }
          svg.ip g {
            animation: slide 2s linear infinite;
          }
          svg.ip g:nth-child(2) {
            animation-delay: 0.5s;
          }
          svg.ip g:nth-child(2) path {
            animation-delay: 0.5s;
            stroke-dasharray: 0px 158px;
            stroke-dashoffset: 1px;
          }
          svg.ip path {
            stroke: url(#gradient);
            stroke-width: 20px;
            stroke-linecap: round;
            fill: none;
            stroke-dasharray: 0 157px;
            stroke-dashoffset: 0;
            animation: escalade 2s cubic-bezier(0.8, 0, 0.2, 1) infinite;
          }
          
          @keyframes slide {
            0% {
              transform: translateY(-50px);
            }
            100% {
              transform: translateY(50px);
            }
          }
          @keyframes escalade {
            0% {
              stroke-dasharray: 0 157px;
              stroke-dashoffset: 0;
            }
            50% {
              stroke-dasharray: 157px 157px;
              stroke-dashoffset: 0;
            }
            100% {
              stroke-dasharray: 157px 157px;
              stroke-dashoffset: -156px;
            }
          }
    </style>
    {% if request.user.is_impersonate %}
        <style>
            #nav-container {
                background: #893e89 !important;
            }
        </style>
    {% endif %}
    {% block media %}{% endblock %}
    <link rel="stylesheet" href="{{ static('full_style.css') }}?v={{ version }}">
    {% if not INLINE_JQUERY %}
        <script src="{{ JQUERY_JS }}"></script>
    {% endif %}
    <script>{{ inlinei18n(LANGUAGE_CODE)|safe }}</script>
    {% if INLINE_JQUERY %}
        <script src="{{ static('libs/jquery-3.6.0.min.js') }}"></script>
    {% endif %}
    <script src="{{ static('libs/jquery-cookie.js') }}"></script>
    <script src="{{ static('libs/jquery-taphold.js') }}"></script>
    <script src="{{ static('libs/jquery.unveil.js') }}"></script>
    <script src="{{ static('libs/moment.js') }}"></script>
    <script src="{{ static('libs/select2/select2.js') }}"></script>
    {% include "extra_js.html" %}
    {% compress js %}
        <script>
            moment.locale('{{ LANGUAGE_CODE }}');
            $(function () {
                $('img.unveil').unveil(200);
            });
            $(function() {
                $.ajaxSetup({
                    beforeSend: function(xhr, settings) {
                        if (!(/^(GET|HEAD|OPTIONS|TRACE)$/.test(settings.type)) && !this.crossDomain)
                            xhr.setRequestHeader('X-CSRFToken', $.cookie('csrftoken'));
                    }
                });
            });
            if (!Date.now) {
                Date.now = function() {
                    return new Date().getTime();
                };
            }
            
            function count_down(label) {
                var initial = parseInt(label.attr('data-secs'));
                var start = Date.now();
            
                function format(num) {
                    var s = "0" + num;
                    return s.substr(s.length - 2);
                }
            
                var timer = setInterval(function() {
                    var time = Math.round(initial - (Date.now() - start) / 1000);
                    if (time <= 0) {
                        clearInterval(timer);
                        setTimeout(function() {
                            window.location.reload();
                        }, 2000);
                    }
                    var d = Math.floor(time / 86400);
                    var h = Math.floor(time % 86400 / 3600);
                    var m = Math.floor(time % 3600 / 60);
                    var s = time % 60;
                    if (d > 0)
                        label.text(npgettext('time format with day', '%d day %h:%m:%s', '%d days %h:%m:%s', d)
                            .replace('%d', d).replace('%h', format(h)).replace('%m', format(m)).replace('%s', format(s)));
                    else
                        label.text(pgettext('time format without day', '%h:%m:%s')
                            .replace('%h', format(h)).replace('%m', format(m)).replace('%s', format(s)));
                }, 1000);
            }
            
            function register_time(elems, limit) {
                limit = limit || 300;
                elems.each(function() {
                    var outdated = false;
                    var $this = $(this);
                    var time = moment($this.attr('data-iso'));
                    var rel_format = $this.attr('data-format');
                    var abs = $this.text();
            
                    function update() {
                        if ($('body').hasClass('window-hidden'))
                            return outdated = true;
                        outdated = false;
                        if (moment().diff(time, 'days') > limit) {
                            $this.text(abs);
                            return;
                        }
                        $this.text(rel_format.replace('{time}', time.fromNow()));
                        setTimeout(update, 10000);
                    }
            
                    $(window).on('dmoj:window-visible', function() {
                        if (outdated)
                            update();
                    });
            
                    update();
                });
            }
            
            $(function() {
                register_time($('.time-with-rel'));
            
                $('form').submit(function(evt) {
                    // Prevent multiple submissions of forms, see #565
                    $("input[type='submit']").prop('disabled', true);
                });
            });
            function submit_language(lang) {
                if (lang != "{{ LANGUAGE_CODE }}" ) {
                    var form = document.querySelector('#set_language')
                    $('#language').val(lang)
                    form.submit()
                }
            }
            $.ajaxSetup({
                beforeSend: function (xhr, settings) {
                    if (!(/^(GET|HEAD|OPTIONS|TRACE)$/.test(settings.type)) && !this.crossDomain)
                        xhr.setRequestHeader('X-CSRFToken', $.cookie('csrftoken'));
                }
            });
        </script>
    {% endcompress %}
    {% block js_media %}{% endblock %}
    {% if request.in_contest %}
        <script>$(function () {
            count_down($("#contest-time-remaining"));

            var selected = null,
                x_pos = 0, y_pos = 0,
                x_elem = 0, y_elem = 0;

            $('#contest-info').mousedown(function () {
                selected = $(this);
                x_elem = x_pos - selected.offset().left;
                y_elem = y_pos - (selected.offset().top - $(window).scrollTop());
                return false;
            });

            if (localStorage.getItem("contest_timer_pos")) {
                data = localStorage.getItem("contest_timer_pos").split(":");
                $("#contest-info").css({
                    left: data[0],
                    top: data[1]
                });
            }

            $("#contest-info").show();

            $(document).mousemove(function (e) {
                x_pos = e.screenX;
                y_pos = e.screenY;
                x_pos = Math.max(Math.min(x_pos, window.innerWidth), 0);
                y_pos = Math.max(Math.min(y_pos, window.innerHeight), 0);

                if (selected !== null) {
                    left_px = (x_pos - x_elem) + 'px';
                    top_px = (y_pos - y_elem) + 'px';

                    localStorage.setItem("contest_timer_pos", left_px + ":" + top_px);

                    selected.css({
                        left: left_px,
                        top: top_px
                    });
                }
            });

            $(document).mouseup(function () {
                selected = null;
            })
        });
        </script>
    {% endif %}
    {% if request.user.is_authenticated %}
        <script>
            window.user = {
                email: '{{ request.user.email|escapejs }}',
                id: '{{ request.user.id|escapejs }}',
                name: '{{ request.user.username|escapejs }}'
            };
        </script>
    {% else %}
        <script>window.user = {};</script>
    {% endif %}

    {% if misc_config.analytics %}
        {{ misc_config.analytics|safe }}
    {% endif %}

    {# Don't run userscript since it may be malicious #}
    {% if request.user.is_authenticated and request.profile.user_script and not request.user.is_impersonate and not ignore_user_script %}
        <script type="text/javascript">{{ request.profile.user_script|safe }}</script>
    {% endif %}

    <noscript>
        <style>
            #content {
                margin: 80px auto auto;
            }

            #navigation {
                top: 27px;
            }
        </style>
    </noscript>
</head>
<body class="min-w-full transition-colors duration-500 bg-gray-100 min-h-[100vh] dark:bg-dark-all tmath flex flex-col">
<svg width="0" height="0" style="display: block">
    <defs>
        <clipPath id="rating-clip"><circle cx="8" cy="8" r="7"/></clipPath>
    </defs>
</svg>
<!-- <div class="absolute top-0 left-0 flex flex-col items-center justify-center w-full min-h-screen preloader">
    <svg class="ip" viewBox="0 0 256 128" width="256px" height="128px" xmlns="http://www.w3.org/2000/svg">
		<g>
            <path d="M 50,100 A 1,1 0 0 1 50,0"/>
          </g>
          <g>
            <path d="M 50,75 A 1,1 0 0 0 50,-25"/>
          </g>
          <defs>
            <linearGradient id="gradient" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" style="stop-color:#FF56A1;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#FF9350;stop-opacity:1" />
            </linearGradient>
          </defs>
	</svg>
</div> -->
<div class="flex-1 w-full transition-opacity duration-300 ease-in-out main-content">
    {% include 'navbar.html' %}
    <div class="overflow-hidden">
        <div id="page_container" class="px-4 py-4 mx-auto max-w-8xl sm:px-6 md:px-8">
            <noscript>
                <div id="noscript">{{ _('This site works best with JavaScript enabled.') }}</div>
                <br>
            </noscript>
            <main class="flex flex-col mb-auto">
                <div class="flex items-center">
                    {% block title_row %}
                        <div class="flex-1 text-3xl font-bold text-black dark:text-white">
                            {% block content_title %}
                                {% if content_title %}{{ content_title }}{% else %}{{ title }}{% endif %}
                            {% endblock %}
                        </div>
                    {% endblock %}
                    {% block header %}{% endblock %}
                </div>
                <div id="content-body" class="flex-1">{% block body %}{% endblock %}</div>
            </main>
        
            {% if i18n_config.announcement %}
                <div id="announcement">{{ i18n_config.announcement|safe }}</div>
            {% endif %}
        
            {% block bodyend %}{% endblock %}
        </div>
    </div>
</div>
<div class="w-full py-10 bg-slate-700">
    <div class="max-w-4xl mx-auto ">
        <div class="flex items-center justify-center space-x-4">
            <div class="flex items-baseline">
                <p style="height: 100%">
                <a style="color: #808080;" href="https://dmoj.ca">proudly powered by <b>DMOJ</b></a>
                {% if i18n_config.footer %}
                    {{ i18n_config.footer|safe }} |
                {% endif %}
                </p>
            </div>
            <form action="{{ url('set_language') }}" method="post" id="set_language">
                {% csrf_token %}
                <select name="language" id="language" onchange="this.form.submit()" class="block w-full p-2 border-gray-300 rounded-md shadow-sm dark:bg-slate-600/75 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                    {% for language in language_info_list(LANGUAGES) %}
                    <option value="{{ language.code }}" {% if language.code == LANGUAGE_CODE %}selected{% endif %}>
                        {{ language.name_local }} ({{ language.code }})
                    </option>
                    {% endfor %}
                </select>
                <input name="next" type="hidden" value="{{ request.get_full_path() }}">
            </form>
        </div>
    </div>
</div>
<script>
    // window.onload = function () {
    //     var preloader = document.querySelector(".preloader");
    //     var mainContent = document.querySelector(".main-content");
        
    //     setTimeout(function () {
    //         // Ẩn preloader khi tải xong
    //         preloader.style.display = "none";
    //         // Hiển thị nội dung chính của trang
    //         mainContent.classList.toggle('opacity-0');
    //     }, 500);
    // };
</script>
<script>
    const copyableCells = document.querySelectorAll('.prose table td');
    const copied = document.getElementById('copied');

    copyableCells.forEach((cell) => {
      cell.classList.add('hover:cursor-pointer');
      cell.addEventListener('click', (e) => {
        const textToCopy = cell.innerHTML.replace(/<br>/g, '\n');
        const textArea = document.createElement('textarea');
        textArea.value = textToCopy;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand('copy');
        document.body.removeChild(textArea);
        // You can add a notification or other feedback here to let the user know it's copied.
        // Create a tooltip element
        const tooltip = document.createElement('div');
        tooltip.textContent = 'Copied!';
        tooltip.classList.add('bg-indigo-200', 'text-white', 'absolute', 'px-2', 'py-1', 'rounded-md', 'z-[999]', 'pointer-events-none');
        document.body.appendChild(tooltip);

        // Position the tooltip near the cursor
        tooltip.style.left = e.pageX + 'px';
        tooltip.style.top = (e.pageY - 30) + 'px'; // Adjust the vertical position as needed

        // Show the tooltip
        setTimeout(() => {
          tooltip.style.opacity = '1';
        }, 100); // Delay showing the tooltip for a short moment

        // Hide the tooltip after a few seconds
        setTimeout(() => {
          tooltip.style.opacity = '0';
          // Remove the tooltip element from the DOM after the fade-out animation
          setTimeout(() => {
            document.body.removeChild(tooltip);
          }, 500); // Adjust the duration as needed
        }, 2000);
      });
    });
</script>
</body>
</html>